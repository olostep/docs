---
title: "Create Batch"
description: "Create a new batch processing request"
api: "POST https://batches.olostep.com/batches"
---

Create a new batch of URLs for processing. Each batch can process up to 10,000 URLs using Olostep's distributed architecture.

## Authentication

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication
</ParamField>

## Request

<RequestExample>
  <CodeGroup title="Request" tag="POST" label="/batches">
```bash {{ title: 'cURL' }}
curl -X POST https://batches.olostep.com/batches \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "items": [
      {
        "custom_id": "product_123",
        "url": "https://example.com/product-123",
        "waitBeforeScraping": 1,
        "saveHtml": true,
        "saveMarkdown": true,
        "removeCSSselectors": "default",
        "fastLane": true
      }
    ],
    "country": "IT",
    "batch_parser": "none",
    "parallel_executions_batch": 4
  }'
```

```python {{ title: 'Python' }}
import requests

response = requests.post(
    "https://batches.olostep.com/batches",
    headers={
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    },
    json={
        "items": [
            {
                "custom_id": "product_123",
                "url": "https://example.com/product-123",
                "waitBeforeScraping": 1,
                "saveHtml": True,
                "saveMarkdown": True,
                "removeCSSselectors": "default",
                "fastLane": True
            }
        ],
        "country": "IT",
        "batch_parser": "none",
        "parallel_executions_batch": 4
    }
)
print(response.json())
```
  </CodeGroup>
</RequestExample>

### URL Parameters

<ParamField body="items" type="array" required>
  Array of URLs to process
</ParamField>

### Batch Array Object Parameters

<ParamField body="custom_id" type="string" required>
  Unique identifier for the URL
</ParamField>

<ParamField body="url" type="string" required>
  URL to process
</ParamField>

<ParamField body="waitBeforeScraping" type="integer" default="1">
  Wait time before scraping in seconds
</ParamField>

<ParamField body="saveHtml" type="boolean" default="true">
  Save HTML content
</ParamField>

<ParamField body="saveMarkdown" type="boolean" default="true">
  Save Markdown content
</ParamField>

<ParamField body="removeCSSselectors" type="string" default="default">
  CSS selectors to remove. Use "default", "none", or a JSON array of selectors
</ParamField>

<ParamField body="fastLane" type="boolean" default="true">
  Use fast lane processing
</ParamField>

### Optional Parameters

<ParamField body="country" type="string">
  Country for node selection (defaults to "RANDOM")
</ParamField>

<ParamField body="batch_parser" type="string">
  Specific parser to use (defaults to "none")
</ParamField>

<ParamField body="parallel_executions_batch" type="integer" default="4">
  Number of parallel executions (defaults to 4)
</ParamField>

<ParamField body="force_batch_connection_id" type="string">
  Force specific node connection (optional)
</ParamField>

## Response

<ResponseField name="id" type="string">
  The unique identifier for the batch
</ResponseField>

<ResponseField name="status" type="string">
  Current status of the batch
</ResponseField>

<ResponseExample>
```json
{
  "id": "batch_xyz123",
  "object": "batch",
  "status": "in_progress",
  "created": 1698757200000,
  "total_urls": 1,
  "completed_urls": 0,
  "number_retried": 0,
  "batch_parser": "none",
  "country": "IT",
  "start_date": "2024-10-31"
}
```
</ResponseExample>

## Error Codes

<ErrorField code="400" description="Invalid request format or batch size limits exceeded" />
<ErrorField code="402" description="Invalid API key" />
<ErrorField code="500" description="Internal server error or insufficient nodes available" />

<ErrorExample>
```json
{
  "invalid_api_key": true,
  "message": "Your API key is invalid. Try double-checking it or reaching out to info@olostep.com if you're facing issues."
}
```
</ErrorExample>
